# 300 - Building Our Application

## 100 - Your Airtable Account

Go to the login page, by https://airtable.com/login

Once logged in successfully in https://airtable.com/ click on **Create a base** (if you have not already done so).

Rename the base to **Servings** and the table to **Cereal**.

In **Grid View**, double click on the column(s) to change their names as follows:

| Atom | Size | Color |
| -- | -- | -- |
| Mi | 5 | #FFFFFF |
| OF | 5 | #FFFFFF |
| MG | 5 | #FFFFFF |
| OM | 5 | #FFFFFF |

Where:
- Mi = Milk
- OF = Oat Flakes
- MG = Multigrain
- OM = Oat Meal

![Airtable_Servings_Cereal](https://user-images.githubusercontent.com/1499433/229313861-3187b803-9912-4607-9eb2-ac0502c53a6a.png)

*NOTE*: This should ultimately result in a JSON data file like:
 
 ```
 {
  "nodes": [
    {"atom": "Mi", "size": 5, "color": "#FFFFFF"},
    {"atom": "OF", "size": 5, "color": "#FFFFFF"},
    {"atom": "MG", "size": 5, "color": "#FFFFFF"},
    {"atom": "OM", "size": 5, "color": "#FFFFFF"}
  ],
  "links": [
    {"source": 0, "target": 1,  "bond": 1},
    {"source": 1, "target": 2,  "bond": 1},
    {"source": 1, "target": 3,  "bond": 1}
  ]
}
 ```

## 200 - Create a Personal Access Token on Airtable

See also: https://airtable.com/developers/web/guides/personal-access-tokens

Airtable has deprecated the use of API keys and instead recommends using Personal Access Tokens.

Hence, we'll have to create a Personal Access Token on Airtable.

![Airtable_Personal_Access_Token](https://user-images.githubusercontent.com/1499433/229314495-1d577727-55d7-4557-a7e7-308100876559.png)

Make a note of the Personal Access Token, as we will be needing this when configuring Stepzen later on.

## 300 - Your Stepzen Account Details

Go to the login page, by https://login.stepzen.com/login

In our case we have decided to login with GitHub, so try the same here.

If successful, you will be shown the option to go to the "Dashboard". Do so, which will take you to https://dashboard.stepzen.com/ 

From the left-hand menu choose "Account" (icon of a key), or go directly to https://dashboard.stepzen.com/account

On the Account Page, under Authentication, you will have access to:


Your **Account**: ********** (generated by Stepzen)

Your Account is provided by StepZen and used in your endpoint URL.


Your **Admin Key**: **********::stepzen.io+1000::################################################ (generated by Stepzen)

Your Admin Key is used to modify StepZen API configuration.


Your **API Key**: **********::stepzen.net+1000::********************************************** (generated by Stepzen)

Use your API Key to access StepZen and execute queries.

Make a not of all above as you will need to enter it in the next steps.

## 400 - Stepzen Studio for GraphQL

Visit Stepzen Studio for GraphQL at https://graphql.stepzen.com

From "All Schemas" clock on "Airtable". 

Next click on "Configure".

Paste the string of characters after https://apitables.com/ upto the next '/' into **Airtable Base ID**. See the Base ID (here: appyqkGHc2SWiagw5) as highlighted in yellow below:

![Airtable_Base_ID](https://user-images.githubusercontent.com/1499433/229315746-22926969-13d4-4d5a-992d-15b12b4b38ea.png)

Paste the **Airtable Personal Access Token** into **Airtable API Key** (as API Key in Airtable has been replaced by Personal Access Token recently).

There is an example GraphQL query where you have to replace the text "PLEASE ENTER TABLENAME HERE" by the name of the table in Airtable that we want to query (here: Cereal):

```
query AirtableQueries(
  $airtable_apiKey: Secret!
  $airtable_baseId: Secret!
  $tableName: String = "PLEASE ENTER TABLENAME HERE"
) {
  airtable_tableData(
    airtable_apiKey: $airtable_apiKey
    airtable_baseId: $airtable_baseId
    tableName: $tableName
  ) {
    records {
      id
      createdTime
      fields
    }
  }
}
```

After replacing the placeholder text with the actual table name (here: Cereal), RUN the query in Stepzen to see if the connection can be made successfully.

MORE ...
